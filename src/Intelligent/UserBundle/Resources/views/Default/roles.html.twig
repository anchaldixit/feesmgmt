{% extends 'loggedtemplate.html.twig' %}

{% block title %}
    <title>List of roles</title>
{% endblock %}
{% block breadcrumb %}
    <div class="bread-crumb">
        <span><a href="/">Home</a></span>
        <i class="fa fa-long-arrow-right"></i>
        <span id="module_name"><a href="/users">Users</a></span>
        <i class="fa fa-long-arrow-right"></i>
        <span>Roles</span>
        
    </div>
{% endblock %}
{% block custom_feature %}
    <div class="custom-feature">
        <a href="#" class="add-popup" data-modal-id="#addRole"><i class="fa fa-plus"></i>New Roles</a>
    </div>
{% endblock %}
{% block body %}
    <div class="user-filter">
        
        <div class="search-box" style="margin-left:0;">
            <div class="search">
                <input type="text" name="role-search" placeholder="Search Role" id="search_role">
                <i class="fa fa-search"></i>
            </div>
        </div>
        <div class="ajax-loader" id="loader" style="display: none;"><i class="fa fa-refresh fa-spin fa-1x fa-fw"></i></div>
        
        <div class="display-result">
            <p>Displaying <span class="curr-result" > 6 </span> out of <span class="total-result">6</span> Roles</p>
        </div>
    </div>
    <span class="notify"><i class="fa fa-info-circle"></i><span class="info-notice">1 Role Changed</span> </span>
    <div class="table-content user-table">
        {% if app.request.get('new_role') > 0 %}
            <div style="color:green; margin: 10px 0;">A new role successfully created.</div>
        {% endif %}
        <div class="table-outer">
        <table id="roleList" class="fix_table" style="display:table;">
            <thead>
                <tr>
                    
                    <th>Role</th>
                    <th>App Level Permissions</th>
                    <th>Home Page</th>
                    <th>Action</th>
                </tr>
            </thead>
            <tbody>

            </tbody>
        </table>
        </div>
        
    </div>
    
    <div class="popup-wrapper" id="addRole" style="display:none;">
            <div class="popup">
                <div class="create-roles-outer">
                    <div class="popup-header">
                        <h4>Create a New Role </h4>
                        <a class="close-popup" href="#"><i class="fa fa-times red"></i></a>
                    </div>
                    <div class="popup-body">
                        <div class="create-roles">
                            <ul>
                                <li>
                                    <label>Role Name</label>
                                    <div class="field-wrap">
                                        <input type="text" name="role_name" id="role_name" placeholder="Role Name"/>
                                        <span class="validation_msg"></span>
                                    </div>
                                </li>
                                <li>
                                    <label>Description</label>
                                    <div class="field-wrap">
                                        <textarea cols="50" rows="4"  id="role_description"></textarea>
                                        <span class="validation_msg"></span>
                                    </div>
                                </li>
                                <li>

                                    <div class="field-wrap">
                                        <input type="submit" name="create_role" value="OK" id="create_role" />
                                        <input type="button" name="cancel" class="close-popup" value="Cancel" />
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    <script>
        if($('.fix_table').length){ 
            var table = $('table.fix_table');
           //console.log(jQuery.floatThead());
            table.floatThead({
                position: 'absolute',
                scrollContainer: function(table){
                    return table.closest('.table-outer');
                }
            });
        }
    </script>
{% endblock %}

